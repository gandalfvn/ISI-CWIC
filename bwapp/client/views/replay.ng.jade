//-**=========================================================
  * Module: replay.ng.jade
  * Created by wjwong on 8/7/15.
  =========================================================*/
toaster-container(toaster-options="{'position-class': 'toast-bottom-right', 'close-button':true}")
.row
  div(style="position: absolute; z-index: 10;" class="col-sm-12")
    div(style='margin-top: 14px')
      .btn-group.mb-sm.pull-right(dropdown="dropdown")
        button.btn.dropdown-toggle.btn-default(type="button", ng-disabled="disabled", dropdown-toggle="", aria-haspopup="true", aria-expanded="true")
          .fa.fa-cog &nbsp;Settings&nbsp;
          span.caret
        ul.dropdown-menu(role="menu")
          li
            a(ng-click='resetWorld();')
              .fa.fa-refresh  Reset
          li
            a(ng-click='toggleGrid();')
              .fa.fa-th-large  Grid
      .pull-right &nbsp;&nbsp;
      button.btn.btn-default.pull-right(ng-click='selectReplay()')
        .fa.fa-video-camera &nbsp;Replay&nbsp;
      .pull-right &nbsp;&nbsp;
      .panel.pull-right(ng-show='myreplay.data.act.length')
        .btn.pull-left(disabled='true', ng-show='!(frameid > 0)')
          .fa.fa-chevron-left
        button.btn.btn-default.pull-left(title='previous', ng-show='frameid > 0', ng-click='updateReplay(-1)')
          .fa.fa-chevron-left
        .btn(disabled='true') Step {{frameid}}
        .btn.pull-right(disabled='true', ng-show='!(frameid < myreplay.data.act.length-1)')
          .fa.fa-chevron-right
        button.btn.btn-default.pull-right(title='next', ng-show='frameid < myreplay.data.act.length-1', ng-click='updateReplay(1)')
          .fa.fa-chevron-right
        br
        button.btn.btn-default.pull-left(ng-click='startReplay()')
          .fa.fa-caret-right Start
        .btn(title='Fast Forward', disabled='true') Fast Fwd
        button.btn.btn-default.pull-right(ng-click='endReplay()')
          .fa.fa-angle-double-right End
        br
        button.btn.btn-default.pull-left(ng-click='markReplay(true)')
          .fa.fa-flag &nbsp;Start&nbsp;
        .btn(title='Fast Forward', disabled='true') Mark
        button.btn.btn-default.pull-right(ng-click='markReplay(false)')
          .fa.fa-trophy &nbsp;Goal&nbsp;
        br
        div(ng-show='myreplay.start !== undefined || myreplay.end !== undefined')
          .btn.pull-left(disabled='true', ng-show='myreplay.start === undefined || myreplay.start < 0')
            .fa.fa-flag &nbsp;Start&nbsp;
          button.btn.btn-default.pull-left(ng-show='myreplay.start > -1', ng-click='gotoMarkReplay(true)')
            .fa.fa-flag &nbsp;Start&nbsp;
          .btn(title='Go to mark', disabled='true') Go To
          .btn.pull-right(disabled='true', ng-show='myreplay.end === undefined || myreplay.end < 0')
            .fa.fa-trophy &nbsp;Goal&nbsp;
          button.btn.btn-default.pull-right(ng-show='myreplay.end > -1', ng-click='gotoMarkReplay(false)')
            .fa.fa-trophy &nbsp;Goal&nbsp;
          br
        button.btn.btn-default.pull-left(ng-show='myreplay.start !== undefined && myreplay.end !== undefined && !myreplay.public', ng-click='togglePublic()')
          .fa.fa-unlock &nbsp;Make Public&nbsp;
        button.btn.btn-default.pull-left(ng-show='myreplay.start !== undefined && myreplay.end !== undefined && myreplay.public', ng-click='togglePublic()')
          .fa.fa-lock &nbsp;Make Private&nbsp;
    div.notouch
      strong Instructions:
      br
      strong Replay: 
      | Choose a replay to view
      br
      strong Step &lt; &gt;: 
      | Use the &lt; and &gt; arrows to step through replay
      br
      strong Fast Forward: 
      | Click on Start or End to fast forward the replay
      br
      strong Mark Start &amp; Goal: 
      | Mark the Start and Goal to enable publication
      br
      strong Goto Start &amp; Goal: 
      | Review the Start and Goal
      br
      strong Public: 
      | Make this assignable to agents
      br

  canvas(id="renderCanvasBab" style='width: 100%; height: 800px;')
  canvas(id="canvas_2D")

script#didReplayList(type="text/ng-template")
  h3 Available Replays
  div
    table.row-border.hover(datatable='ng', dt-options='dtOptions')
      thead
        tr
          th
          th Name
          th Created
      tbody
        tr(ng-repeat='replay in ngDialogData.replays')
          td(ng-click='remove(replay._id)')
            .fa.fa-remove
          td(title='{{replay._id}}', ng-click='closeThisDialog({open: replay._id})') {{ replay.name}}
          td(ng-click='closeThisDialog({open: replay._id})') {{replay.created | date: 'yyyy-MM-dd h:mm:ss'}}
